<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:telerikPrimitives="clr-namespace:Telerik.XamarinForms.Primitives;assembly=Telerik.XamarinForms.Primitives"
             xmlns:enum="clr-namespace:Common.Enumerations;assembly=Common"
             xmlns:vm="clr-namespace:LvsScan.Portable.ViewModels.Inventory"
             x:Class="LvsScan.Portable.Views.Inventory.i2_InventoryArtikelListPage"
             Title="Inventur Artikelliste"
             BackgroundColor="WhiteSmoke"
             >
    <ContentPage.BindingContext>
        <vm:i2_InventoryArtikelListViewModel/>
    </ContentPage.BindingContext>
    
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Inventur starten"
                     IconImageSource="mi_arrow_from_32x32.png"
                     IsEnabled="{Binding IsInventoryStartEnabled}"
                     Order="Primary"
                     Priority="0"
                     Clicked="StartInventory_Clicked"
                     />
        <ToolbarItem Text="Refresh" 
                     IconImageSource="mi_arrow_circle2_32x32.png"
                     Order="Primary"
                     Priority="0"
                     Clicked="RefreshList_Clicked"
                     />
        <ToolbarItem Text="Home"
                     IconImageSource="mi_home_32x32.png"
                     Order="Primary"
                     Priority="0"
                     Clicked="tbibHome_Clicked"
                     />
    </ContentPage.ToolbarItems>
    
    <ContentPage.Content>

        <StackLayout>
             <!--Headline Inventory Data-->
            <StackLayout>
                <!--<Label Text="{Binding SelectedInventory.Name}" />-->
                <telerikPrimitives:RadShadow BlurRadius="0" 
                                                Margin="3,3,3,3" 
                                                Padding="0,0,0,0"
                                                Color="White"
                                                BackgroundColor="DodgerBlue"                                             
                                                >
                    <StackLayout>
                        <StackLayout>
                            <StackLayout Orientation="Horizontal">

                                <Label  HorizontalOptions="CenterAndExpand"
                                        Padding="5,0,0,0" 
                                        FontSize="16"
                                        FontAttributes="Bold"
                                        TextColor="White"
                                        >
                                    <Label.Text>
                                        <MultiBinding StringFormat="{}[{0}] - {1}">
                                            <Binding Path="SelectedInventory.Id" />
                                            <Binding Path="SelectedInventory.Name" />                                            
                                        </MultiBinding>
                                    </Label.Text>
                                </Label>                                                           
                                <Image>
                                    <Image.Style>
                                        <Style TargetType="{x:Type Image}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Neu}" TargetType="{x:Type Image}">
                                                    <Setter Property="Source" Value="bullet_ball_grey_16x16.png" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Fehlt}" TargetType="{x:Type Image}">
                                                    <Setter Property="Source" Value="bullet_ball_red_16x16.png" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.NotSet}" TargetType="{x:Type Image}">
                                                    <Setter Property="Source" Value="bullet_ball_yellow_16x16.png" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.OK}" TargetType="{x:Type Image}">
                                                    <Setter Property="Source" Value="bullet_ball_green_16x16.png" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Image.Style>
                                </Image>

                            </StackLayout>
                            <BoxView Color= "DarkSlateBlue" HeightRequest="1" HorizontalOptions="Fill" />
                        </StackLayout>

                        <StackLayout Orientation="Vertical">
                            <Label  HorizontalOptions="StartAndExpand"
                                    Padding="15,0,0,0"
                                    FontSize="Small"
                                    TextColor="WhiteSmoke"
                                    >
                                <Label.Text>
                                    <MultiBinding StringFormat="{}Beschreibung: {0}">
                                        <Binding Path="SelectedInventory.Description" />
                                    </MultiBinding>
                                </Label.Text>
                            </Label>


                        </StackLayout>
                    </StackLayout>
                </telerikPrimitives:RadShadow>
            </StackLayout>

            <StackLayout HeightRequest="500" IsVisible="{Binding ShowBusyIndicator}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="150" />
                        <RowDefinition Height="200" />
                    </Grid.RowDefinitions> 

                    <telerikPrimitives:RadBusyIndicator Grid.Row="1"
                                                        AnimationContentHeightRequest="100"
                                                        AnimationContentWidthRequest="100"
                                                        AnimationType="Animation6"
                                                        AnimationContentColor="Blue"
                                                        InputTransparent="True"
                                                        IsBusy="{Binding ShowBusyIndicator}">
                        <telerikPrimitives:RadBusyIndicator.BusyContent>
                            <Label Grid.Row="2" 
                                       Text="Daten werden geladen...." 
                                       TextColor="DarkBlue" 
                                       HorizontalOptions="CenterAndExpand"
                                       VerticalTextAlignment="Center"
                                       />
                        </telerikPrimitives:RadBusyIndicator.BusyContent>
                    </telerikPrimitives:RadBusyIndicator>
                </Grid>
            </StackLayout>

            <!--TabMenu Article-->
            <StackLayout IsVisible="{Binding ShowContent}">
                <telerikPrimitives:RadTabView x:Name="tabViewArticle" 
                                              FlowDirection="LeftToRight"
                                              IsContentSwipingAnimationEnabled="False"                                              
                                              >
                    <telerikPrimitives:RadTabView.Items>


                        <!--UNEDIT-->
                        <telerikPrimitives:TabViewItem>
                            <telerikPrimitives:TabViewItem.Header>
                                <telerikPrimitives:TabViewHeaderItem Style="{StaticResource DefaultTabViewHeaderItem}">
                                    <telerikPrimitives:RadBadgeView BadgeText="{Binding InventoryArticlesUneditedCount}"
                                                                    Style="{StaticResource DefaultBadgeViewStyle}"
                                                                    >
                                        <telerikPrimitives:RadBadgeView.Content>
                                            <Label Text="un-edit" HorizontalOptions="Center" />
                                        </telerikPrimitives:RadBadgeView.Content>
                                    </telerikPrimitives:RadBadgeView>
                                </telerikPrimitives:TabViewHeaderItem>
                            </telerikPrimitives:TabViewItem.Header>
                            <telerikPrimitives:TabViewItem.Content>

                                <StackLayout>
                                    <CollectionView x:Name="viewInventoryArticlesUnedited"                                                    
                                                    ItemsSource="{Binding InventoryArticlesUnedited}"
                                                    SelectedItem="{Binding SelectedInventoryArticle}"
                                                    SelectionChanged="viewInventoryArticlesUnedited_SelectionChanged"
                                                    SelectionMode="Single"                                                    
                                                    EmptyView="Es liegen keine Daten vor"
                                                    >
                                        <CollectionView.ItemTemplate>
                                            <DataTemplate>

                                                <StackLayout Padding="5, 0, 5, 0" >
                                                    <telerikPrimitives:RadShadow BlurRadius="8" 
                                                                                            Margin="10,10,10,10" 
                                                                                            Padding="0,5,0,0"
                                                                                            Color="DarkBlue"
                                                                                            BackgroundColor="Snow"
                                                                                            >
                                                        <StackLayout>
                                                            <StackLayout>
                                                                <StackLayout Orientation="Horizontal">

                                                                    <Label  HorizontalOptions="StartAndExpand"
                                                                                    Padding="5,0,0,0" 
                                                                                    FontSize="Subtitle"
                                                                                    FontAttributes="Bold"
                                                                                    TextColor="DarkSlateGray"
                                                                                    >
                                                                        <Label.Text>
                                                                            <MultiBinding StringFormat="{}LVS: {0} - [ {1} ] |  Ort: {2} ">
                                                                                <Binding Path="Artikel.LVS_ID" />
                                                                                <Binding Path="Artikel.Id" />
                                                                                <Binding Path="Artikel.LagerOrtAsString" />
                                                                            </MultiBinding>
                                                                        </Label.Text>
                                                                    </Label>
                                                                    <Image>
                                                                        <Image.Style>
                                                                            <Style TargetType="{x:Type Image}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Neu}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_grey_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Fehlt}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_red_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.NotSet}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_yellow_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.OK}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_green_16x16.png" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Image.Style>
                                                                    </Image>

                                                                </StackLayout>
                                                                <BoxView Color= "DarkSlateBlue"
                                                                                HeightRequest="1"                                                
                                                                                HorizontalOptions="Fill" />
                                                            </StackLayout>

                                                            <StackLayout Orientation="Horizontal">
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}ProduktionsNr.: {0}">
                                                                            <Binding Path="Artikel.Produktionsnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Werksnummer: {0}">
                                                                            <Binding Path="Artikel.Werksnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Brutto KG: {0:N2}">
                                                                            <Binding Path="Artikel.Brutto" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                            </StackLayout>
                                                            <StackLayout>
                                                                
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Description: {0}">
                                                                            <Binding Path="Description" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Description}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>
                                                            
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Notiz: {0}">
                                                                            <Binding Path="Text" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Text}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>

                                                            </StackLayout>
                                                        </StackLayout>
                                                    </telerikPrimitives:RadShadow>
                                                </StackLayout>

                                            </DataTemplate>
                                        </CollectionView.ItemTemplate>
                                    </CollectionView>
                                </StackLayout>

                            </telerikPrimitives:TabViewItem.Content>
                        </telerikPrimitives:TabViewItem>

                        <!--ALL-->
                        <telerikPrimitives:TabViewItem>
                            <telerikPrimitives:TabViewItem.Header>
                                <telerikPrimitives:TabViewHeaderItem Style="{StaticResource DefaultTabViewHeaderItem}">
                                    <telerikPrimitives:RadBadgeView BadgeText="{Binding InventoryArticlesCount}" 
                                                                    Style="{StaticResource DefaultBadgeViewStyle}">
                                        <telerikPrimitives:RadBadgeView.Content>
                                            <Label Text="all" HorizontalOptions="Center" />
                                        </telerikPrimitives:RadBadgeView.Content>
                                    </telerikPrimitives:RadBadgeView>
                                </telerikPrimitives:TabViewHeaderItem>
                            </telerikPrimitives:TabViewItem.Header>
                            <telerikPrimitives:TabViewItem.Content>
                                <StackLayout>
                                    <CollectionView x:Name="viewInventoryArticles"                                                    
                                                    ItemsSource="{Binding InventoryArticles}"
                                                    SelectionMode="Single"                                                    
                                                    EmptyView="Es liegen keine Daten vor"                                
                                                    >
                                        <CollectionView.ItemTemplate>
                                            <DataTemplate>                                                
                                                <StackLayout Padding="5, 0, 5, 0" >
                                                    <telerikPrimitives:RadShadow BlurRadius="8" 
                                                                                            Margin="10,10,10,10" 
                                                                                            Padding="0,5,0,0"
                                                                                            Color="DarkBlue"
                                                                                            BackgroundColor="Snow"
                                                                                            >
                                                        <StackLayout>
                                                            <StackLayout>
                                                                <StackLayout Orientation="Horizontal">

                                                                    <Label  HorizontalOptions="StartAndExpand"
                                                                                    Padding="5,0,0,0" 
                                                                                    FontSize="Subtitle"
                                                                                    FontAttributes="Bold"
                                                                                    TextColor="DarkSlateGray"
                                                                                    >
                                                                        <Label.Text>
                                                                            <MultiBinding StringFormat="{}LVS: {0} - [ {1} ] |  Ort: {2} ">
                                                                                <Binding Path="Artikel.LVS_ID" />
                                                                                <Binding Path="Artikel.Id" />
                                                                                <Binding Path="Artikel.LagerOrtAsString" />
                                                                            </MultiBinding>
                                                                        </Label.Text>
                                                                    </Label>
                                                                    <Image>
                                                                        <Image.Style>
                                                                            <Style TargetType="{x:Type Image}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Neu}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_grey_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Fehlt}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_red_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.NotSet}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_yellow_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.OK}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_green_16x16.png" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Image.Style>
                                                                    </Image>

                                                                </StackLayout>
                                                                <BoxView Color= "DarkSlateBlue"
                                                                                HeightRequest="1"                                                
                                                                                HorizontalOptions="Fill" />
                                                            </StackLayout>

                                                            <StackLayout Orientation="Horizontal">
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}ProduktionsNr.: {0}">
                                                                            <Binding Path="Artikel.Produktionsnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Werksnummer: {0}">
                                                                            <Binding Path="Artikel.Werksnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Brutto KG: {0:N2}">
                                                                            <Binding Path="Artikel.Brutto" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                            </StackLayout>
                                                            <StackLayout>
                                                                
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Description: {0}">
                                                                            <Binding Path="Description" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Description}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>
                                                               
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Notiz: {0}">
                                                                            <Binding Path="Text" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Text}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>
                                                                
                                                            </StackLayout>
                                                        </StackLayout>
                                                    </telerikPrimitives:RadShadow>
                                                </StackLayout>

                                            </DataTemplate>
                                        </CollectionView.ItemTemplate>
                                    </CollectionView>
                                </StackLayout>

                            </telerikPrimitives:TabViewItem.Content>
                        </telerikPrimitives:TabViewItem>


                        <!--CHECKED-->
                        <telerikPrimitives:TabViewItem>
                            <telerikPrimitives:TabViewItem.Header>
                                <telerikPrimitives:TabViewHeaderItem Style="{StaticResource DefaultTabViewHeaderItem}">
                                    <telerikPrimitives:RadBadgeView BadgeText="{Binding InventoryArticlesCheckedCount}" 
                                                                    Style="{StaticResource DefaultBadgeViewStyleViewHeaderItemChecked}">
                                        <telerikPrimitives:RadBadgeView.Content>
                                            <Label Text="checked" HorizontalOptions="Center" />
                                        </telerikPrimitives:RadBadgeView.Content>
                                    </telerikPrimitives:RadBadgeView>
                                </telerikPrimitives:TabViewHeaderItem>
                            </telerikPrimitives:TabViewItem.Header>
                            <telerikPrimitives:TabViewItem.Content>

                                <StackLayout>
                                    <CollectionView x:Name="viewInventoryArticlesChecked"                                                    
                                                    ItemsSource="{Binding InventoryArticlesChecked}"
                                                    SelectionMode="Single"                                                    
                                                    EmptyView="Es liegen keine Daten vor"                                
                                                    >
                                        <CollectionView.ItemTemplate>
                                            <DataTemplate>
                                                 <StackLayout Padding="5, 0, 5, 0" >
                                                    <telerikPrimitives:RadShadow BlurRadius="8" 
                                                                                            Margin="10,10,10,10" 
                                                                                            Padding="0,5,0,0"
                                                                                            Color="DarkBlue"
                                                                                            BackgroundColor="PaleGreen"
                                                                                            >
                                                        <telerikPrimitives:RadShadow.BackgroundColor>
                                                            <OnPlatform x:TypeArguments="Color" Default="Default">
                                                                <On Platform="UWP" Value="#F1F2F5"/>
                                                            </OnPlatform>
                                                        </telerikPrimitives:RadShadow.BackgroundColor>
                                                        <StackLayout>
                                                            <StackLayout>
                                                                <StackLayout Orientation="Horizontal">

                                                                    <Label  HorizontalOptions="StartAndExpand"
                                                                                    Padding="5,0,0,0" 
                                                                                    FontSize="Subtitle"
                                                                                    FontAttributes="Bold"
                                                                                    TextColor="DarkSlateGray"
                                                                                    >
                                                                        <Label.Text>
                                                                            <MultiBinding StringFormat="{}LVS: {0} - [ {1} ] |  Ort: {2} ">
                                                                                <Binding Path="Artikel.LVS_ID" />
                                                                                <Binding Path="Artikel.Id" />
                                                                                <Binding Path="Artikel.LagerOrtAsString" />
                                                                            </MultiBinding>
                                                                        </Label.Text>
                                                                    </Label>
                                                                    <Image>
                                                                        <Image.Style>
                                                                            <Style TargetType="{x:Type Image}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Neu}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_grey_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Fehlt}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_red_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.NotSet}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_grey_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.OK}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_green_16x16.png" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Image.Style>
                                                                    </Image>

                                                                </StackLayout>
                                                                <BoxView Color= "DarkSlateBlue"
                                                                                HeightRequest="1"                                                
                                                                                HorizontalOptions="Fill" />
                                                            </StackLayout>

                                                            <StackLayout Orientation="Horizontal">
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}ProduktionsNr.: {0}">
                                                                            <Binding Path="Artikel.Produktionsnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Werksnummer: {0}">
                                                                            <Binding Path="Artikel.Werksnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Brutto KG: {0:N2}">
                                                                            <Binding Path="Artikel.Brutto" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                            </StackLayout>
                                                            <StackLayout>
                                                                
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Description: {0}">
                                                                            <Binding Path="Description" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Description}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>
                                                                
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Notiz: {0}">
                                                                            <Binding Path="Text" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Text}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>


                                                            </StackLayout>
                                                        </StackLayout>
                                                    </telerikPrimitives:RadShadow>
                                                </StackLayout>
                                            </DataTemplate>
                                        </CollectionView.ItemTemplate>
                                    </CollectionView>
                                </StackLayout>

                            </telerikPrimitives:TabViewItem.Content>
                        </telerikPrimitives:TabViewItem>                        
                        
                        
                        <!--ERROR-->                      
                        <telerikPrimitives:TabViewItem>
                            <telerikPrimitives:TabViewItem.Header>
                                <telerikPrimitives:TabViewHeaderItem Style="{StaticResource DefaultTabViewHeaderItem}">
                                    <telerikPrimitives:RadBadgeView BadgeText="{Binding InventoryArticlesErrorCount}" 
                                                                    Style="{StaticResource DefaultBadgeViewStyleViewHeaderItemError}">
                                        <telerikPrimitives:RadBadgeView.Content>
                                            <Label Text="Error" HorizontalOptions="Center" />
                                        </telerikPrimitives:RadBadgeView.Content>
                                    </telerikPrimitives:RadBadgeView>
                                </telerikPrimitives:TabViewHeaderItem>
                            </telerikPrimitives:TabViewItem.Header>
                            <telerikPrimitives:TabViewItem.Content>

                                <StackLayout>
                                    <CollectionView x:Name="viewInventoryArticlesError"                                                    
                                                    ItemsSource="{Binding InventoryArticlesError}"
                                                    SelectionMode="Single"                                                    
                                                    EmptyView="Es liegen keine Daten vor"                                
                                                    >
                                        <CollectionView.ItemTemplate>
                                            <DataTemplate>
                                                <StackLayout Padding="5, 0, 5, 0" >
                                                    <telerikPrimitives:RadShadow BlurRadius="8" 
                                                                                            Margin="10,10,10,10" 
                                                                                            Padding="0,5,0,0"
                                                                                            Color="DarkBlue"
                                                                                            BackgroundColor="LightSalmon"
                                                                                            >
                                                        <telerikPrimitives:RadShadow.BackgroundColor>
                                                            <OnPlatform x:TypeArguments="Color" Default="Default">
                                                                <On Platform="UWP" Value="#F1F2F5"/>
                                                            </OnPlatform>
                                                        </telerikPrimitives:RadShadow.BackgroundColor>
                                                        <StackLayout>
                                                            <StackLayout>
                                                                <StackLayout Orientation="Horizontal">

                                                                    <Label  HorizontalOptions="StartAndExpand"
                                                                                    Padding="5,0,0,0" 
                                                                                    FontSize="Subtitle"
                                                                                    FontAttributes="Bold"
                                                                                    TextColor="DarkSlateGray"
                                                                                    >
                                                                        <Label.Text>
                                                                            <MultiBinding StringFormat="{}LVS: {0} - [ {1} ] |  Ort: {2} ">
                                                                                <Binding Path="Artikel.LVS_ID" />
                                                                                <Binding Path="Artikel.Id" />
                                                                                <Binding Path="Artikel.LagerOrtAsString" />
                                                                            </MultiBinding>
                                                                        </Label.Text>
                                                                    </Label>
                                                                    <Image>
                                                                        <Image.Style>
                                                                            <Style TargetType="{x:Type Image}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Neu}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_grey_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.Fehlt}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_red_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.NotSet}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_yellow_16x16.png" />
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="{x:Static enum:enumInventoryArticleStatus.OK}" TargetType="{x:Type Image}">
                                                                                        <Setter Property="Source" Value="bullet_ball_green_16x16.png" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Image.Style>
                                                                    </Image>

                                                                </StackLayout>
                                                                <BoxView Color= "DarkSlateBlue"
                                                                                HeightRequest="1"                                                
                                                                                HorizontalOptions="Fill" />
                                                            </StackLayout>

                                                            <StackLayout Orientation="Horizontal">
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}ProduktionsNr.: {0}">
                                                                            <Binding Path="Artikel.Produktionsnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Werksnummer: {0}">
                                                                            <Binding Path="Artikel.Werksnummer" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Brutto KG: {0:N2}">
                                                                            <Binding Path="Artikel.Brutto" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                </Label>

                                                            </StackLayout>
                                                            <StackLayout>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Description: {0}">
                                                                            <Binding Path="Description" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Description}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>
                                                                <Label  HorizontalOptions="StartAndExpand"
                                                                                Padding="15,0,0,0"
                                                                                FontSize="Small"
                                                                                TextColor="DimGray"
                                                                                >
                                                                    <Label.Text>
                                                                        <MultiBinding StringFormat="{}Notiz: {0}">
                                                                            <Binding Path="Text" />
                                                                        </MultiBinding>
                                                                    </Label.Text>
                                                                    <Label.Triggers>
                                                                        <DataTrigger TargetType="Label" 
                                                                                     Binding="{Binding Text}" 
                                                                                     Value="">
                                                                            <Setter Property="IsVisible" Value="False" />
                                                                        </DataTrigger>
                                                                    </Label.Triggers>
                                                                </Label>
                                                            </StackLayout>
                                                        </StackLayout>
                                                    </telerikPrimitives:RadShadow>
                                                </StackLayout>
                                            </DataTemplate>
                                        </CollectionView.ItemTemplate>
                                    </CollectionView>
                                </StackLayout>

                            </telerikPrimitives:TabViewItem.Content>
                        </telerikPrimitives:TabViewItem>
                
                     </telerikPrimitives:RadTabView.Items>
                 </telerikPrimitives:RadTabView>

            </StackLayout>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>