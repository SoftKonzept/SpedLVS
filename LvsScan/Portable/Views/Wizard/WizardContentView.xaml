<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="LvsScan.Portable.Views.Wizard.WizardContentView"
             xmlns:converters="clr-namespace:LvsScan.Portable.Converter" 
              >
    <ContentView.Resources>
        <ResourceDictionary>
            <converters:InvertBoolConverter x:Key="InvertBoolConverter"/>
        </ResourceDictionary>
    </ContentView.Resources>
    <ContentView.Content>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackLayout Grid.Row="0">
                <Label Padding="0,0,7,0" 
                       HorizontalOptions="EndAndExpand" 
                       VerticalOptions="End" 
                       Text="{Binding Title}" 
                       HorizontalTextAlignment="Center" 
                       LineBreakMode="WordWrap" 
                       FontAttributes="Bold" 
                       FontSize="Default"
                       />
                
                <BoxView HeightRequest="1" 
                         Color="Black"
                         />
                
            </StackLayout>
            <ContentView x:Name="StepContent" Padding="15" VerticalOptions="Start" Content="{Binding CurrentItem.View}" Grid.Row="1"/>
            <StackLayout Grid.Row="2" Padding="0,0,0,10">
                <ProgressBar ProgressColor="{Binding ProgressBarColor}" Progress="{Binding ProgressBarProgress}" Visual="Material"/>
                <StackLayout Orientation="Horizontal" Padding="20, 5">
                    
                    <!--<Button x:Name="wbtnBack" IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" IsVisible="{Binding IsNotFirstItem}" Text="{Binding BackButtonLabel}" Clicked="BackButton_Clicked" HorizontalOptions="StartAndExpand" Visual="Material"/>
                    <Button x:Name="wbtnCustomer"  IsEnabled="{Binding IsCustomButtonEnabled, Converter={StaticResource InvertBoolConverter}}" IsVisible="{Binding IsCustomButtonVisible}" Text="{Binding CustomButtonLabel}" Clicked="CustomButton_Clicked" HorizontalOptions="StartAndExpand" Visual="Material" />
                    <Button x:Name="wbtnSkip"  IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" IsVisible="{Binding IsSkippable}" Text="{Binding SkipButtonLabel}" Clicked="SkipButton_Clicked"  HorizontalOptions="EndAndExpand" Visual="Material"/>
                    <Button x:Name="wbtnNext" IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" Text="{Binding NextButtonLabel}" Clicked="NextButton_Clicked"  HorizontalOptions="EndAndExpand" Visual="Material"/>
                    --><!--<Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" Text="{Binding NextButtonLabel}" Clicked="NextButton_Clicked"  HorizontalOptions="EndAndExpand" Visual="Material"/>-->


                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" 
                            IsVisible="{Binding IsNotFirstItem}" 
                            Text="{Binding BackButtonLabel}" 
                            Clicked="BackButton_Clicked" 
                            HorizontalOptions="StartAndExpand" 
                            Visual="Default"
                            BackgroundColor="DodgerBlue"
                            />

                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" 
                            IsVisible="{Binding IsCustomButtonVisible}" 
                            Text="{Binding CustomButtonLabel}" 
                            Clicked="CustomButton_Clicked" 
                            HorizontalOptions="StartAndExpand" 
                            Visual="Default"
                            BackgroundColor="Yellow"
                            />

                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertBoolConverter}}" 
                            IsVisible="{Binding IsSkippable}" 
                            Text="{Binding SkipButtonLabel}" 
                            Clicked="SkipButton_Clicked"  
                            HorizontalOptions="EndAndExpand" 
                            Visual="Default"                            
                            BackgroundColor="red"
                            />

                    <Button IsEnabled="{Binding IsNextEnabled, Converter={StaticResource InvertBoolConverter}}" 
                            Text="{Binding NextButtonLabel}" 
                            Clicked="NextButton_Clicked"  
                            HorizontalOptions="EndAndExpand" 
                            Visual="Default"
                            BackgroundColor="{Binding BackgroundColorNext, Mode=TwoWay}"
                            />
                    
                </StackLayout>
            </StackLayout>
        </Grid>
    </ContentView.Content>
</ContentView>